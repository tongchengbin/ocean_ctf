import{_ as k,u as x,l as C,r as i,s as P,a as U,c as h,b as o,d as s,w as l,e as S,t as w,f as T,F as I,g as r,o as g,h as v,p as N,i as z,j as B}from"./index-C2V0hAci.js";const F={name:"index",components:{User:x,Lock:C},setup(){const n=i({username:"",password:"",oldPassword:"",newPassword:"",confirmPassword:""}),a=i("login"),p=i(""),e=i(!1);return{form:n,activeTab:a,username:p,loading:e}},methods:{login(){!this.form.username||!this.form.password||P.post("/api/login",this.form).then(n=>{let a=n.token;U(a),this.$router.replace({path:"/"})})},handleSubmit(){}}},c=n=>(N("data-v-d1b65f21"),n=n(),z(),n),K={class:"container"},L={class:"login-box"},j=c(()=>o("div",{class:"title-wrap"},[o("img",{src:B,width:"30",height:"30",type:"image/svg+xml"}),o("span",null,"Ocean CTF 登录")],-1)),A={key:0,class:"profile-container"},D={class:"profile-header"},E={class:"avatar-section"},O={class:"avatar"},q={class:"avatar-text"},G={class:"username"},H={class:"profile-form"},J={class:"form-group"},M=c(()=>o("label",{class:"form-label"},"当前密码",-1)),Q={class:"form-group"},R=c(()=>o("label",{class:"form-label"},"新密码",-1)),W={class:"form-group"},X=c(()=>o("label",{class:"form-label"},"确认密码",-1)),Y={class:"form-actions"};function Z(n,a,p,e,$,m){const b=r("User"),f=r("el-icon"),d=r("el-input"),_=r("el-form-item"),V=r("Lock"),u=r("el-button"),y=r("el-form");return g(),h(I,null,[o("div",K,[o("div",L,[j,s(y,{class:"login-form",size:"large",onKeyup:S(m.login,["enter"])},{default:l(()=>[s(_,null,{default:l(()=>[s(d,{placeholder:"请输入用户名",modelValue:e.form.username,"onUpdate:modelValue":a[0]||(a[0]=t=>e.form.username=t)},{prepend:l(()=>[s(f,{style:{width:"100%",height:"100%"}},{default:l(()=>[s(b,{style:{"font-size":"20px"}})]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(_,null,{default:l(()=>[s(d,{placeholder:"请输入密码",type:"password",modelValue:e.form.password,"onUpdate:modelValue":a[1]||(a[1]=t=>e.form.password=t)},{prepend:l(()=>[s(f,{style:{width:"100%",height:"100%"}},{default:l(()=>[s(V,{style:{"font-size":"20px"}})]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(_,{class:"login-btn"},{default:l(()=>[s(u,{type:"primary",onClick:m.login},{default:l(()=>[v("登录")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["onKeyup"])])]),e.activeTab==="profile"?(g(),h("div",A,[o("div",D,[o("div",E,[o("div",O,[o("span",q,w(e.username.charAt(0).toUpperCase()),1)]),o("h2",G,w(e.username),1)])]),o("div",H,[o("div",J,[M,s(d,{modelValue:e.form.oldPassword,"onUpdate:modelValue":a[2]||(a[2]=t=>e.form.oldPassword=t),type:"password",placeholder:"请输入当前密码",class:"form-input"},null,8,["modelValue"])]),o("div",Q,[R,s(d,{modelValue:e.form.newPassword,"onUpdate:modelValue":a[3]||(a[3]=t=>e.form.newPassword=t),type:"password",placeholder:"请输入新密码",class:"form-input"},null,8,["modelValue"])]),o("div",W,[X,s(d,{modelValue:e.form.confirmPassword,"onUpdate:modelValue":a[4]||(a[4]=t=>e.form.confirmPassword=t),type:"password",placeholder:"请再次输入新密码",class:"form-input"},null,8,["modelValue"])]),o("div",Y,[s(u,{type:"primary",onClick:m.handleSubmit,loading:e.loading,class:"submit-btn"},{default:l(()=>[v(" 保存修改 ")]),_:1},8,["onClick","loading"])])])])):T("",!0)],64)}const eo=k(F,[["render",Z],["__scopeId","data-v-d1b65f21"]]);export{eo as default};
