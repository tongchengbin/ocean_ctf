import{_ as d,D as s,m as g,n as b,G as i,H as e,Q as n,R as x,a7 as m}from"./index-pPDUazPi.js";const h={name:"ctf",data(){return{ctf_repository:"",ctf_timeout:180}},created(){this.getConfig()},methods:{getConfig(){m.get("/api/admin/config").then(o=>{this.ctf_timeout=o.data.ctf_timeout||180,this.ctf_repository=o.data.ctf_repository})},setConfig(){const o={ctf_timeout:this.ctf_timeout,ctf_repository:this.ctf_repository};m.post("/api/admin/config",o).then(()=>{this.$message({type:"success",message:"配置保存成功",duration:2e3}),this.getConfig()})}}},y={class:"main"},C={class:"w-[99/100] mt-2 px-2 pb-2 bg-bg_color"},V={class:"p-4"};function w(o,t,v,k,l,r){const f=s("el-input-number"),a=s("el-form-item"),p=s("el-input"),_=s("el-button"),u=s("el-form");return b(),g("div",y,[i("div",C,[t[3]||(t[3]=i("div",{class:"flex justify-between w-full h-[60px] p-4"},[i("p",{class:"font-bold truncate"},"赛事配置")],-1)),i("div",V,[e(u,{class:"config-form","label-width":"120px"},{default:n(()=>[e(a,{label:"容器时长(秒)",class:"mb-4"},{default:n(()=>[e(f,{modelValue:l.ctf_timeout,"onUpdate:modelValue":t[0]||(t[0]=c=>l.ctf_timeout=c),min:60,max:3600,step:60,class:"w-[200px]"},null,8,["modelValue"])]),_:1}),e(a,{label:"题目仓库",class:"mb-4"},{default:n(()=>[e(p,{modelValue:l.ctf_repository,"onUpdate:modelValue":t[1]||(t[1]=c=>l.ctf_repository=c),placeholder:"请输入题目仓库地址",class:"w-[400px]"},null,8,["modelValue"])]),_:1}),e(a,null,{default:n(()=>[e(_,{type:"primary",onClick:r.setConfig},{default:n(()=>[...t[2]||(t[2]=[x("保存配置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})])])])}const N=d(h,[["render",w]]);export{N as default};
