import{_ as v,a8 as h,D as l,p as n,q as d,G as s,H as c,J as f,K as k,R as y,P as o,Q as _,U as x}from"./index-Dasq562Y.js";import w from"./addHost-B5T9mteh.js";const H={name:"host",components:{AddHost:w},data(){return{loading:!1,showAdd:!1,checkHost:{},listData:[],listTotal:0,listQuery:{page:1,page_size:10}}},created(){this.getList()},methods:{getList(){this.loading=!0,h.get("/api/admin/docker/host",this.listQuery).then(t=>{this.listData=t.data,this.listTotal=t.total,this.loading=!1})},handleAddHost(t){this.showAdd=!1,t&&this.getList()},handleEditHost(t){this.checkHost=t,this.showAdd=!0},handleDelete(t){h.delete(`/api/admin/docker/host/${t.id}`).then(i=>{this.$message({message:"删除成功",type:"success"}),this.getList()})},handleToDetail(t){this.$router.push({path:`/docker/dockerHostDetail?id=${t.id}`})}}},b={class:"container"},D={class:"widget"},A={class:"action-bar"},C={class:"host-container"},L={class:"box-warp"},S={class:"box-header"},q={style:{"text-align":"left"}},B={class:"server-list__item-header-left"},T={style:{"text-align":"right",flex:"auto"}},V={class:"box-body"},N={class:"line-mg"},Q={class:"line-mg"},$={key:0},j={class:"line-mg"},E={class:"line-mg"},F={class:"box-footer"},G={style:{"text-align":"right"}};function P(t,i,U,z,a,r){const p=l("el-alert"),u=l("el-button"),g=l("el-card"),m=l("add-host");return n(),d("div",b,[s("div",D,[i[1]||(i[1]=s("div",{class:"tool-bar"},[s("span",null,[s("strong",null,"主机管理")])],-1)),s("div",A,[c(p,{title:"该界面仅提供管理员批量运维，数据源来源于宿主机！",type:"info","show-icon":""})]),s("div",C,[(n(!0),d(f,null,k(a.listData,e=>(n(),d("div",L,[c(g,null,{default:y(()=>[s("div",S,[s("div",q,[s("div",B,[i[0]||(i[0]=s("img",{alt:"",src:"https://imgcache.qq.com/open_proj/proj_qcloud_v2/tc-console/tea-static-lighthouse/src/styles/slice/CentOS.svg",class:"tea-align-middle tea-mr-1n",style:{height:"32px"}},null,-1)),s("span",null,o(e.name),1)])]),s("div",T,[c(u,{style:{padding:"4px"},onClick:I=>r.handleToDetail(e),icon:"el-icon-more",type:"primary",circle:""},null,8,["onClick"])])]),s("div",V,[s("div",N,[s("span",null,"docker api："+o(e.docker_api),1)]),s("div",Q,[e.info?(n(),d("span",$,"version:"+o(e.info.ServerVersion),1)):_("",!0)]),s("div",j,[s("span",null,"CPU:"+o(e.system.cpu)+"核 - 内存 "+o((e.system.memory||0).toFixed(1))+"G",1)]),s("div",E,[s("span",null,"备注："+o(e.remark),1)])]),s("div",F,[s("div",G,o(e.ip),1)])]),_:2},1024)]))),256))])]),a.showAdd?(n(),x(m,{key:0,checkHost:a.checkHost,show:a.showAdd,onSuccess:r.handleAddHost},null,8,["checkHost","show","onSuccess"])):_("",!0)])}const O=v(H,[["render",P],["__scopeId","data-v-46e3c0fe"]]);export{O as default};
