import{_ as v,D as l,m as d,n as i,G as s,S as f,E as h,H as c,K as k,L as y,Q as x,P as o,a7 as _}from"./index-BYxaA_Lm.js";import w from"./addHost-C3Uh59LB.js";const H={name:"host",components:{AddHost:w},data(){return{loading:!1,showAdd:!1,checkHost:{},listData:[],listTotal:0,listQuery:{page:1,page_size:10}}},created(){this.getList()},methods:{getList(){this.loading=!0,_.get("/api/admin/docker/host",this.listQuery).then(t=>{this.listData=t.data,this.listTotal=t.total,this.loading=!1})},handleAddHost(t){this.showAdd=!1,t&&this.getList()},handleEditHost(t){this.checkHost=t,this.showAdd=!0},handleDelete(t){_.delete(`/api/admin/docker/host/${t.id}`).then(n=>{this.$message({message:"删除成功",type:"success"}),this.getList()})},handleToDetail(t){this.$router.push({path:`/docker/dockerHostDetail?id=${t.id}`})}}},b={class:"container"},D={class:"widget"},A={class:"action-bar"},C={class:"host-container"},L={class:"box-warp"},S={class:"box-header"},B={style:{"text-align":"left"}},T={class:"server-list__item-header-left"},V={style:{"text-align":"right",flex:"auto"}},q={class:"box-body"},E={class:"line-mg"},N={class:"line-mg"},Q={key:0},$={class:"line-mg"},j={class:"line-mg"},F={class:"box-footer"},G={style:{"text-align":"right"}};function P(t,n,z,I,a,r){const p=l("el-alert"),u=l("el-button"),g=l("el-card"),m=l("add-host");return i(),d("div",b,[s("div",D,[n[1]||(n[1]=s("div",{class:"tool-bar"},[s("span",null,[s("strong",null,"主机管理")])],-1)),s("div",A,[c(p,{title:"该界面仅提供管理员批量运维，数据源来源于宿主机！",type:"info","show-icon":""})]),s("div",C,[(i(!0),d(k,null,y(a.listData,e=>(i(),d("div",L,[c(g,null,{default:x(()=>[s("div",S,[s("div",B,[s("div",T,[n[0]||(n[0]=s("img",{alt:"",src:"https://imgcache.qq.com/open_proj/proj_qcloud_v2/tc-console/tea-static-lighthouse/src/styles/slice/CentOS.svg",class:"tea-align-middle tea-mr-1n",style:{height:"32px"}},null,-1)),s("span",null,o(e.name),1)])]),s("div",V,[c(u,{style:{padding:"4px"},onClick:K=>r.handleToDetail(e),icon:"el-icon-more",type:"primary",circle:""},null,8,["onClick"])])]),s("div",q,[s("div",E,[s("span",null,"docker api："+o(e.docker_api),1)]),s("div",N,[e.info?(i(),d("span",Q,"version:"+o(e.info.ServerVersion),1)):h("",!0)]),s("div",$,[s("span",null,"CPU:"+o(e.system.cpu)+"核 - 内存 "+o((e.system.memory||0).toFixed(1))+"G",1)]),s("div",j,[s("span",null,"备注："+o(e.remark),1)])]),s("div",F,[s("div",G,o(e.ip),1)])]),_:2},1024)]))),256))])]),a.showAdd?(i(),f(m,{key:0,checkHost:a.checkHost,show:a.showAdd,onSuccess:r.handleAddHost},null,8,["checkHost","show","onSuccess"])):h("",!0)])}const J=v(H,[["render",P],["__scopeId","data-v-46e3c0fe"]]);export{J as default};
